(this.webpackJsonphotel=this.webpackJsonphotel||[]).push([[0],{32:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),c=n(27),a=n.n(c),i=(n(32),n(3)),o=n.n(i),l=n(5),u=n(4),j=n(6),h=n.n(j),d=n(16),b=(n(52),n(0)),p=function(e){var t=e.averageRatings;return console.log({averageRatings:t}),Object(b.jsx)("div",{children:Object(b.jsxs)("h3",{children:["Average:"," ",!isNaN(t)&&Array.from(Array(Number(t)).keys()).map((function(){return Object(b.jsx)(d.a,{color:"#f5fa1b"})}))]})})},f=n(10),O=n(9),x=function(e){var t=e.hostelId,n=e.getHostels,s=r.a.useState(!1),c=Object(u.a)(s,2),a=c[0],i=c[1],j=r.a.useState({reviewer:"",review:""}),d=Object(u.a)(j,2),p=d[0],x=d[1],m=function(e){x(Object(O.a)(Object(O.a)({},p),{},Object(f.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(l.a)(o.a.mark((function e(s){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),!p.reviewer||!p.review){e.next=8;break}return r="https://server-cw1.herokuapp.com/hostels/review/".concat(t),e.next=5,h.a.post(r,p);case 5:x({reviewer:"",review:""}),i(!1),n();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){i(!a)},children:a?"Cancel review":"Add review"}),a?Object(b.jsx)("div",{className:"rev",children:Object(b.jsxs)("form",{children:[Object(b.jsx)("input",{name:"reviewer",value:p.reviewer,onChange:m,placeholder:"Enter your name"}),Object(b.jsx)("textarea",{name:"review",value:p.review,placeholder:"Write review",onChange:m}),Object(b.jsx)("button",{onClick:v,children:"Submit"})]})}):null]})},m=(n(54),function(e){var t=e.hostel,n=e.getHostels,s=t.ratings.reduce((function(e,t){return e+t}),0),r=Math.round(s/t.ratings.length);return Object(b.jsxs)("div",{className:"hostel-card",children:[Object(b.jsx)("h2",{children:t.name}),Object(b.jsxs)("h3",{children:["Address: ",t.address]}),Object(b.jsxs)("h3",{children:["Post code: ",t.postcode]}),Object(b.jsx)("p",{children:t.description}),Object(b.jsxs)("h4",{children:["Email: ",t.email]}),Object(b.jsxs)("h4",{children:["Phone: ",t.phone]}),Object(b.jsx)("br",{}),Object(b.jsx)("p",{children:"What guests are saying About this hostel"}),Object(b.jsx)("h2",{children:"Here is Rating Details As the following:-"}),Object(b.jsxs)("section",{className:"ratings",children:[Object(b.jsxs)("h2",{children:["Total Ratings for this hostel is: (",t.ratings.length,")"]}),Object(b.jsxs)("h2",{children:["Average star Ratings from Visitors:  (",r,") Stars"]}),Object(b.jsx)("h2",{children:"Total Actually Stars Rated for this hostel: "}),t.ratings.map((function(e){return Object(b.jsxs)("h3",{children:[" ",!isNaN(e)&&Array.from(Array(Number(e)).keys()).map((function(){return Object(b.jsx)(d.a,{color:"#f5fa1b"})}))]})})),Object(b.jsx)("h2",{children:"Chart distribution of ratings:"}),Object(b.jsx)(p,{averageRatings:r})]}),Object(b.jsxs)("section",{className:"review",children:[Object(b.jsx)("h2",{children:"Reviews List "}),t.reviews.map((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("h3",{children:["User Name: ",e.reviewer]}),Object(b.jsx)("p",{children:e.review})]})})),Object(b.jsx)(x,{hostelId:t.id,getHostels:n})]})]})}),v=(n(55),n(56),function(e){var t=e.setHostels,n=e.searchInput,s=e.setSearchInput,r=function(){var e=Object(l.a)(o.a.mark((function e(){var s,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="https://server-cw1.herokuapp.com/hostels/search/".concat(n),e.next=3,h.a.get(s);case 3:r=e.sent,c=r.data,t(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("form",{children:[Object(b.jsx)("input",{name:"search",value:n,placeholder:"Search by address",onChange:function(e){s(e.target.value)}}),Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),s(""),t([])},children:"Clear"}),Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),n&&r()},children:"Search"})]})}),g=(n(57),function(){return Object(b.jsx)("div",{className:"img-wrapper"})}),w=function(){var e=r.a.useState([]),t=Object(u.a)(e,2),n=t[0],s=t[1],c=r.a.useState(""),a=Object(u.a)(c,2),i=a[0],j=a[1],d=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://server-cw1.herokuapp.com/hostels",e.next=3,h.a.get("https://server-cw1.herokuapp.com/hostels");case 3:t=e.sent,n=t.data,s(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){i||n.length||d()}),[i,n]),Object(b.jsxs)("section",{className:"container",children:[Object(b.jsx)(g,{}),Object(b.jsxs)("div",{className:"tour-template-block_title",children:[Object(b.jsx)("h3",{children:" North Coast Scotland! It is a wonderful destination"}),Object(b.jsx)("p",{children:"Plan a Better Journey to Scotland"})]}),Object(b.jsxs)("div",{className:"images",children:[Object(b.jsx)("img",{src:"https://back.triptile.com/sites/default/files/styles/w_800/public/2019-01/edinburgh-1-min_0.jpg"}),Object(b.jsx)("img",{src:"https://back.triptile.com/sites/default/files/styles/w_800/public/2019-01/inverness-2-min.jpg"}),Object(b.jsx)("img",{src:"https://back.triptile.com/sites/default/files/styles/w_800/public/2019-01/4Glasgow-cropped-min_0.jpg"}),Object(b.jsx)("img",{src:""})]}),Object(b.jsx)(v,{setHostels:s,searchInput:i,setSearchInput:j}),Object(b.jsxs)("section",{className:"hostels",children:[Object(b.jsx)("h2",{children:"List of Hostels North Cost | Scotland:"})," ",n.map((function(e){return Object(b.jsx)(m,{hostel:e,getHostels:d},e.id)}))]})]})},y=(n(58),n(18)),k=n(2),N=(n(59),function(){var e=r.a.useState(""),t=Object(u.a)(e,2),n=t[0],s=t[1],c=r.a.useState([]),a=Object(u.a)(c,2),i=a[0],j=a[1],d=r.a.useState([]),p=Object(u.a)(d,2),f=p[0],O=p[1],x=Object(k.f)(),m=function(){var e=Object(l.a)(o.a.mark((function e(){var t,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://server-cw1.herokuapp.com/itineraries/".concat(n),e.next=3,h.a.get(t);case 3:return s=e.sent,r=s.data,e.next=7,r.map((function(e){return e.stages.map((function(e){return v(e.hostel)}))}));case 7:j(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://server-cw1.herokuapp.com/hostels/".concat(t),e.next=3,h.a.get(n);case 3:s=e.sent,r=s.data,O([].concat(Object(y.a)(f),Object(y.a)(r)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){return console.log({hostels:f}),f.length&&f.find((function(t){return Number(t.id)===Number(e)}))||{}};return Object(b.jsxs)("div",{className:"display-itineraries",children:[Object(b.jsx)("h2",{children:"Enter your name to display itineraries:"}),Object(b.jsxs)("form",{children:[Object(b.jsx)("input",{name:"userName",value:n,placeholder:"Enter your name to get your itineraries",onChange:function(e){s(e.target.value)}}),Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),n&&m()},children:"Get itineraries"})]}),i.length?i.map((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("h2",{children:["User: ",e.user]}),Object(b.jsxs)("h3",{children:["Start Date: ",e.startdate]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"Stages:-"}),e.stages.map((function(t){return Object(b.jsxs)("div",{className:"stage",children:[Object(b.jsxs)("div",{className:"itinerary-stage",children:[Object(b.jsxs)("h4",{children:["Stage: ",t.stage]}),Object(b.jsxs)("h4",{children:["Nights: ",t.nights]})]}),t.hostel?Object(b.jsxs)("div",{className:"itinerary-hostel",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"Hostel:-"}),Object(b.jsxs)("h5",{children:["Name: ",g(t.hostel).name]}),Object(b.jsxs)("h5",{children:["Address: ",g(t.hostel).address]})]}),Object(b.jsx)("div",{className:"map",children:Object(b.jsx)("iframe",{src:"https://maps.google.com/maps?q=".concat(g(t.hostel).address,"&t=&z=13&ie=UTF8&iwloc=&output=embed"),frameBorder:"0",allowFullScreen:"","aria-hidden":"false",tabIndex:"0"})})]}):null,Object(b.jsx)("button",{onClick:function(){x("/itineraries/edit?user=".concat(e.user,"&&stage=").concat(t.stage))},className:"edit",children:"Edit Stage"})]})}))]})]})})):null]})}),S=(n(60),function(){var e=r.a.useState(""),t=Object(u.a)(e,2),n=t[0],s=t[1],c=r.a.useState({stage:null,hostel:null,nights:null}),a=Object(u.a)(c,2),i=a[0],j=a[1],d=r.a.useState([]),p=Object(u.a)(d,2),x=p[0],m=p[1],v=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://server-cw1.herokuapp.com/hostels",e.next=3,h.a.get("https://server-cw1.herokuapp.com/hostels");case 3:t=e.sent,n=t.data,m(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://server-cw1.herokuapp.com/itineraries/stages/new/".concat(n),e.next=3,h.a.post(t,i);case 3:window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e){e.preventDefault(),j(Object(O.a)(Object(O.a)({},i),{},Object(f.a)({},e.target.name,e.target.value)))};return r.a.useEffect((function(){v()}),[]),Object(b.jsx)("div",{children:Object(b.jsxs)("form",{className:"create-itinerary-form",children:[Object(b.jsx)("h2",{children:"Create Itinerary"}),Object(b.jsx)("input",{name:"name",value:n,placeholder:"Enter your name",onChange:function(e){e.preventDefault(),s(e.target.value)}}),Object(b.jsx)("input",{name:"stage",type:"number",value:i.stage,placeholder:"Enter stage number",onChange:w}),Object(b.jsx)("input",{name:"nights",type:"number",value:i.nights,placeholder:"Enter nights number",onChange:w}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"hostel",children:"Select hostel:"}),Object(b.jsx)("select",{name:"hostel",id:"hostel",value:i.hostel,onChange:w,children:x.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),n&&i.nights&&i.hostel&&i.stage&&g()},children:"Submit"})]})})}),C=function(){var e=r.a.useState([]),t=Object(u.a)(e,2),n=(t[0],t[1]),s=function(){var e=Object(l.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://server-cw1.herokuapp.com/itineraries",e.next=3,h.a.get("https://server-cw1.herokuapp.com/itineraries");case 3:t=e.sent,s=t.data,n(s);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){s()}),[]),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(g,{}),Object(b.jsxs)("div",{className:"tour-template-block_title",children:[Object(b.jsx)("h2",{children:"Scotland Trips"}),Object(b.jsx)("p",{children:"Scotland trip packages and planning advice by travel experts"})]}),Object(b.jsxs)("div",{className:"images",children:[Object(b.jsx)("img",{src:"https://back.triptile.com/sites/default/files/styles/w_800/public/2019-01/edinburgh-1-min_0.jpg"}),Object(b.jsx)("img",{src:"https://back.triptile.com/sites/default/files/styles/w_800/public/2019-01/inverness-2-min.jpg"}),Object(b.jsx)("img",{src:"https://back.triptile.com/sites/default/files/styles/w_800/public/2019-01/4Glasgow-cropped-min_0.jpg"})]}),Object(b.jsx)("p",{children:"Keep reading for fantastic outdoor activities, cosy accommodation, scenic road trips, Harry Potter railway tours, inspirational itineraries, and historic city breaks, to name a few!"}),Object(b.jsx)("breaks",{}),Object(b.jsx)("p",{children:"Search for accommodation, check availability and save your favourite places by clicking the heart."}),Object(b.jsx)("breaks",{}),Object(b.jsx)("p",{children:"Then when it comes to booking you can get to your chosen place to stay quickly and easily. With trip planner you can share your options with your friends too."}),Object(b.jsxs)("div",{className:"contact",children:[Object(b.jsx)("h1",{children:"Create your own itinerary planning!"}),Object(b.jsx)("div",{children:Object(b.jsx)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m28!1m12!1m3!1d296663.521539268!2d-5.133956734922389!3d57.561607944581006!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m13!3e0!4m5!1s0x488e618b4e88b1f1%3A0xbf51c8fda4de8e4c!2sTorridon%20Youth%20Hostel%2C%20Torridon%2C%20Achnasheen%20IV22%202EZ!3m2!1d57.5441206!2d-5.5043868!4m5!1s0x488f714b0733fac9%3A0x1a76063de542e314!2sInverness%20Youth%20Hostel%2C%20Victoria%20Dr%2C%20Inverness%20IV2%203QB!3m2!1d57.479924499999996!2d-4.2108755!5e0!3m2!1sen!2suk!4v1639694237678!5m2!1sen!2suk"})})]}),Object(b.jsx)(S,{}),Object(b.jsx)(N,{})]})},A=n(11),E=(n(61),function(){return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("nav",{children:[Object(b.jsx)(A.b,{to:"/",children:"Hostels"}),Object(b.jsx)(A.b,{to:"/itineraries",children:"Itineraries"})]})})}),I=(n(62),function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("footer",{className:"container",children:"\xa9 2021 VisitScotland. All rights reserved."})})}),H=function(e){var t;return null===(t=window.location.search.split("&&").filter((function(t){return t.includes(e)}))[0])||void 0===t?void 0:t.replace("".concat(e,"="),"").replace("?","")},D=function(){var e=r.a.useState({hostel:null,nights:null}),t=Object(u.a)(e,2),n=t[0],s=t[1],c=r.a.useState([]),a=Object(u.a)(c,2),i=a[0],j=a[1],d=Object(k.f)(),p=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://server-cw1.herokuapp.com/hostels",e.next=3,h.a.get("https://server-cw1.herokuapp.com/hostels");case 3:t=e.sent,n=t.data,j(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r,c,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=H("user"),n=H("stage"),r="https://server-cw1.herokuapp.com/itineraries/".concat(t),e.next=5,h.a.get(r);case 5:c=e.sent,a=c.data,i=a[0].stages.find((function(e){return Number(e.stage)===Number(n)})),s(i);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(o.a.mark((function e(){var t,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=H("user"),s=H("stage"),r="https://server-cw1.herokuapp.com/itineraries/stages/update/".concat(t,"/").concat(s),e.next=5,h.a.post(r,n);case 5:d("/itineraries");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e){e.preventDefault(),s(Object(O.a)(Object(O.a)({},n),{},Object(f.a)({},e.target.name,e.target.value)))};return r.a.useEffect((function(){p(),x()}),[]),n?Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("form",{className:"create-itinerary-form",children:[Object(b.jsx)("h2",{children:"Edit Itinerary"}),Object(b.jsx)("label",{children:"Nights number:"}),Object(b.jsx)("input",{name:"nights",type:"number",value:n.nights,placeholder:"Enter nights number",onChange:v}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"hostel",children:"Select hostel:"}),Object(b.jsx)("select",{name:"hostel",id:"hostel",value:n.hostel,onChange:v,children:i.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),n.nights&&n.hostel&&m()},children:"Submit"})]})}):null},_=function(){return Object(b.jsx)(A.a,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(E,{}),Object(b.jsxs)(k.c,{children:[Object(b.jsx)(k.a,{path:"/",element:Object(b.jsx)(w,{})}),Object(b.jsx)(k.a,{path:"/itineraries",element:Object(b.jsx)(C,{})}),Object(b.jsx)(k.a,{path:"/itineraries/edit",element:Object(b.jsx)(D,{})})]}),Object(b.jsx)(I,{})]})})};a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(_,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.0987b4fa.chunk.js.map